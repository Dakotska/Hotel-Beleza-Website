<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beleza | Restaurante</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="icon" href="../assets/images/Logo_Beleza.png">
    <link rel="stylesheet" href="../assets/css/restaurant.css">
</head>
<body>
    <header id="header"></header>

    <div class="section-one">
        <div class="bg-img"><video src="../assets/images/principal-com.mp4" autoplay muted loop playsinline></video></div>
        <div class="one-container">
            <h1 class="title">Restraurante</h1>
        </div>
    </div>

    <h2 class="sct-title">ü•û Desayunos </h2>
    <section class="sec-desayunos">
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/desayuno1.png" alt="Desayuno Cl√°sico Mexicano">
            <div class="card-down">
                <h1>Desayuno Cl√°sico Mexicano</h1>
                <p>Un desayuno completo y tradicional que combina sabores caseros con un toque reconfortante.</p>
                <ul>
                    <li>Huevos estrellados</li>
                    <li>Frijoles refritos</li>
                    <li>Chilaquiles rojos con crema y queso</li>
                    <li>Pl√°tano macho frito</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(1)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/desayuno2.png" alt="Desayuno Norte√±o con Salchicha">
            <div class="card-down">
                <h1>Desayuno Norte√±o con Salchicha</h1>
                <p>Una opci√≥n abundante y deliciosa para arrancar el d√≠a con energ√≠a y buen sabor.</p>
                <ul>
                    <li>Huevos revueltos</li>
                    <li>Frijoles refritos</li>
                    <li>Salchicha frita</li>
                    <li>Pan tostado</li>
                    <li>Queso fresco</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(2)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/desayuno3.png" alt="Desayuno Ranchero con Salchicha">
            <div class="card-down">
                <h1>Desayuno Ranchero con Salchicha</h1>
                <p>Un desayuno tradicional que mezcla sabores intensos con el toque casero de la cocina mexicana.</p>
                <ul>
                    <li>Huevos rancheros con salsa roja</li>
                    <li>Enselada sencilla</li>
                    <li>Totopos crujientes</li>
                    <li>Pan o tortilla</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(3)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/desayuno4.png" alt="Desayuno Ligero con Queso y Pan">
            <div class="card-down">
                <h1>Desayuno Ligero</h1>
                <p>Ideal para quienes prefieren comenzar el d√≠a con algo suave, ligero y sabroso.</p>
                <ul>
                    <li>Entomatadas con queso fresco</li>
                    <li>Huevo revuelto</li>
                    <li>Tortilla</li>
                    <li>Salsa bandera</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(4)">
            </div>
        </div>
    </section>
    <h2 class="sct-title">üçΩÔ∏è Comidas </h2>
    <section class="sec-comidas">
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/comida1.png" alt="Enchiladas Rojas">
            <div class="card-down">
                <h1>Enchiladas Rojas</h1>
                <p>Tortillas rellenas de pollo ba√±adas en salsa roja casera, con el toque fresco de la cebolla morada y cilantro.</p>
                <ul>
                    <li>Tortillas de ma√≠z</li>
                    <li>Pollo deshebrado</li>
                    <li>Salsa roja</li>
                    <li>Crema</li>
                    <li>Cebolla morada y cilantro</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(5)">
            </div>
        </div>
        
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/comida2.png" alt="Chiles en Nogada">
            <div class="card-down">
                <h1>Chiles en Nogada</h1>
                <p>Cl√°sico poblano de temporada: chile relleno de picadillo suave, cubierto con salsa de nuez y granada fresca.</p>
                <ul>
                    <li>Chile poblano asado</li>
                    <li>Picadillo (carne, frutas y especias)</li>
                    <li>Salsa de nogada</li>
                    <li>Semillas de granada</li>
                    <li>Perejil fresco</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(6)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/comida3.png" alt="Tacos al Pastor">
            <div class="card-down">
                <h1>Tacos al Pastor</h1>
                <p>Deliciosos tacos de carne adobada al pastor, servidos con pi√±a, cebolla y cilantro, acompa√±ados de salsa.</p>
                <ul>
                    <li>Tortillas de ma√≠z</li>
                    <li>Carne al pastor</li>
                    <li>Pi√±a asada</li>
                    <li>Cebolla y cilantro</li>
                    <li>Rodaja de lim√≥n y salsa roja</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(7)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/comida4.png" alt="Chilaquiles Verdes">
            <div class="card-down">
                <h1>Chilaquiles Verdes</h1>
                <p>Crujientes totopos ba√±ados en salsa verde, coronados con crema, queso fresco y un toque de cilantro.</p>
                <ul>
                    <li>Totopos caseros</li>
                    <li>Salsa verde</li>
                    <li>Crema</li>
                    <li>Queso fresco</li>
                    <li>Cilantro</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(8)">
            </div>
        </div>
    </section>
    <h2 class="sct-title">üåô Cenas </h2>
    <section class="sec-cenas">
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/cena1.png" alt="Enchiladas Rojas" style="object-position: top;">
            <div class="card-down">
                <h1>Enchiladas Rojas</h1>
                <p>Tortillas rellenas de pollo ba√±adas en salsa roja casera, con el toque fresco de la cebolla morada y cilantro.</p>
                <ul>
                    <li>Tortillas de ma√≠z</li>
                    <li>Pollo deshebrado</li>
                    <li>Salsa roja</li>
                    <li>Crema</li>
                    <li>Cebolla morada y cilantro</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(9)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/cena2.png" alt="Tacos al Pastor" style="object-position: 25% 30%;">
            <div class="card-down">
                <h1>Tacos al Pastor</h1>
                <p>Deliciosos tacos de carne adobada al pastor, servidos con pi√±a, cebolla y cilantro, acompa√±ados de salsa.</p>
                <ul>
                    <li>Tortillas de ma√≠z</li>
                    <li>Carne al pastor</li>
                    <li>Pi√±a asada</li>
                    <li>Cebolla y cilantro</li>
                    <li>Rodaja de lim√≥n y salsa roja</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(10)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/cena3.png" alt="Quesadillas Doradas" style="object-position: 35% 55%;">
            <div class="card-down">
                <h1>Quesadillas Doradas</h1>
                <p>Tradicionales quesadillas crujientes, rellenas de queso fundido y servidas con salsa y lim√≥n fresco.</p>
                <ul>
                    <li>Tortillas de ma√≠z</li>
                    <li>Queso fundido</li>
                    <li>Fritas al comal</li>
                    <li>Salsa roja</li>
                    <li>Lim√≥n en gajos</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(11)">
            </div>
        </div>
        <div class="card">
            <img src="/Hotel-Beleza-Website/assets/images/images-food/cena4.png" alt="Sopes de Frijol" style="object-position: bottom;">
            <div class="card-down">
                <h1>Sopes de Frijol</h1>
                <p>Base gruesa de ma√≠z untada con frijoles refritos, lechuga fresca, queso y pico de gallo por encima.</p>
                <ul>
                    <li>Masa gruesa de ma√≠z</li>
                    <li>Frijoles refritos</li>
                    <li>Lechuga</li>
                    <li>Queso fresco</li>
                    <li>Tomate y cebolla</li>
                </ul>
                <input type="button" value="shopping_cart" onclick="Carrito(12)">
            </div>
        </div>
    </section>
    <form class="sec-recibo" action="../forms/restaurant.php" method="POST">
        <div class="rec-header"><h1>Puedes ver tu carrito aqui üõí</h1></div>
        <div class="rec-body">
            <div class="Lista-de-comidas">
                <table id="tabla-productos">
                    <thead>
                        <tr>
                            <th>Imagen</th>
                            <th>Nombre</th>
                            <th>Cantidad</th>
                            <th>Precio unitario</th>
                            <th>Subtotal</th>
                            <th>Borrar</th>
                        </tr>
                    </thead>
                    <tbody id="Productos-carrito">
                    </tbody>
                </table>
                
                <p id="mensaje-vacio" style="display: none; color: gray; text-align: center; font-size: 50px;">No hay ning√∫n producto agregado.</p>
            </div>
            <div class="Barra-derecha">
                <div id="Lista-rec">
                    <ol>
                    </ol>
                </div>
                <h3><input type="number" name="numeroHab" id="" placeholder="Ej: 999" min="1" max="999" required></h3>
                <button type="submit" value="">Comprar ahora</button>
            </div>
        </div>
    </form>

    <footer id="footer"></footer>

    <script>
        fetch('../templates/header.html')
            .then(res => res.text())
            .then(data => {
                document.getElementById('header').innerHTML = data;
            })
            .catch(err => console.error('Error cargando header:', err));

        fetch('../templates/footer.html')
            .then(res => res.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            })
            .catch(err => console.error('Error cargando footer:', err));

        function verificarProductos() {
            const tbody = document.querySelector("#tabla-productos tbody");
            const mensaje = document.getElementById("mensaje-vacio");
            mensaje.style.display = tbody.children.length === 0 ? "block" : "none";
        }
        document.addEventListener("DOMContentLoaded", verificarProductos);

        function conectarBotonesCantidad(fila, rfila) {
            const btnSuma    = fila.querySelector(".btn-suma");
            const btnResta   = fila.querySelector(".btn-resta");
            const btnEliminar = fila.querySelector("button[class^='btn-eliminar']");
            const inputCantidad       = fila.querySelector("input[id^='coc']");
            const inputPrecioUnitario = fila.querySelector("input[id^='puoc']");
            const inputSubtotal       = fila.querySelector("input[id^='poc']");

            btnSuma.addEventListener("click", () => {
                let valor = parseInt(inputCantidad.value);
                if (valor < 10) {
                    inputCantidad.value = ++valor;
                    actualizarSubtotal();
                }
            });

            btnResta.addEventListener("click", () => {
                let valor = parseInt(inputCantidad.value);
                if (valor > 1) {
                    inputCantidad.value = --valor;
                    actualizarSubtotal();
                }
            });

            btnEliminar.addEventListener("click", () => {
                fila.remove();
                rfila.remove();
                verificarProductos();
            });

            function actualizarSubtotal() {
                const precio   = parseFloat(inputPrecioUnitario.value);
                const cantidad = parseInt(inputCantidad.value);
                inputSubtotal.value = (precio * cantidad).toFixed(2);
            }
        }

        function generarFila(imagen, nombre, id, precio) {
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td class="producto-img t-product">
                    <img src="/Hotel-Beleza-Website/assets/images/images-food/${imagen}" alt="Producto ${id}">
                </td>
                <td class="producto-nombre t-product">
                    <input type="text" name="nombre-id${id}" class="list-name" value="${nombre}"></input>
                </td>
                <td class="cantidad-wrapper t-product">
                    <button type="button" class="btn-resta">‚àí</button>
                    <input type="number" name="icoc${id}" id="coc${id}" class="input-cantidad" value="1" min="1" max="10">
                    <button type="button" class="btn-suma">+</button>
                </td>
                <td class="producto-preciou t-product">
                    <input type="number" name="ipuoc${id}" id="puoc${id}" value="${precio}" readonly>
                </td>
                <td class="producto-precio t-product">
                    <input type="number" name="ipoc${id}" id="poc${id}" value="${precio.toFixed(2)}" readonly>
                </td>
                <td class="producto-accion t-product">
                    <button type="button" class="btn-eliminar${id}">üóëÔ∏è</button>
                </td>
            `;
            return tr;
        }

        function generarRec(nombre, numero) {
            const li = document.createElement("li");
            li.classList.add(`list-rec${numero}`);
            li.innerHTML = `<p>${nombre}</p>`;
            return li;
        }

        function Carrito(number) {
            const tbody = document.querySelector("#tabla-productos tbody");
            const lrec  = document.querySelector("#Lista-rec ol");

            // Si ya existe, s√≥lo resaltamos
            const existente = document.getElementById(`coc${number}`);
            if (existente) {
                existente.scrollIntoView({ behavior: "smooth", block: "center" });
                existente.classList.add("resaltado");
                setTimeout(() => existente.classList.remove("resaltado"), 1000);
                return;
            }

            // Plantillas de filas y recibos
            const plantillas = {
                1: generarFila("desayuno1.png", "Desayuno Cl√°sico Mexicano", 1, 120),
                2: generarFila("desayuno2.png", "Desayuno Norte√±o con Salchicha", 2, 110),
                3: generarFila("desayuno3.png", "Desayuno Ranchero con Salchicha", 3, 115),
                4: generarFila("desayuno4.png", "Desayuno Ligero", 4, 100),
                5: generarFila("comida1.png", "Enchiladas Rojas", 5, 140),
                6: generarFila("comida2.png", "Chiles en Nogada", 6, 180),
                7: generarFila("comida3.png", "Tacos al Pastor", 7, 130),
                8: generarFila("comida4.png", "Chilaquiles Verdes", 8, 125),
                9: generarFila("cena1.png", "Entomatadas", 9, 140),
                10: generarFila("cena2.png", "Tacos al Pastor", 10, 130),
                11: generarFila("cena3.png", "Quesadillas Doradas", 11, 110),
                12: generarFila("cena4.png", "Sopes de Frijol", 12, 105)
            };

            const rplantillas = {
                1: generarRec("Desayuno Cl√°sico Mexicano",           1),
                2: generarRec("Desayuno Norte√±o con Salchicha",     2),
                3: generarRec("Desayuno Ranchero con Salchicha",    3),
                4: generarRec("Desayuno Ligero",                    4),
                5: generarRec("Enchiladas Rojas",                   5),
                6: generarRec("Chiles en Nogada",                   6),
                7: generarRec("Tacos al Pastor",                    7),
                8: generarRec("Chilaquiles Verdes",                 8),
                9: generarRec("Entomatadas",                        9),
                10: generarRec("Tacos al Pastor",                  10),
                11: generarRec("Quesadillas Doradas",              11),
                12: generarRec("Sopes de Frijol",                  12)
            };

            const fila  = plantillas[number];
            const rfila = rplantillas[number];

            if (fila && rfila) {
                tbody.appendChild(fila);
                lrec.appendChild(rfila);
                verificarProductos();
                conectarBotonesCantidad(fila, rfila);
            }
        }
        
    </script>

</body>
</html>